---
layout: home          # So Simple 主题自带的首页布局
title: Bookshelf 📖
---

<h1>Posts by Category</h1>

<!-- Search Bar -->
<input type="text" id="search-bar" placeholder="Search posts..." style="width: 100%; padding: 10px; margin-bottom: 20px;">

<!-- Categories Container -->
<div id="categories-list" style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
  {% assign categories = site.categories | sort %}
  {% if categories.size == 0 %}
    <p>No categories yet.</p>
  {% endif %}

  {% for cat in categories %}
    {% assign cat_name = cat[0] %}
    <button class="category-button" data-category="{{ cat_name | slugify }}" style="padding: 10px; border: 1px solid #ccc; border-radius: 4px; background: #f9f9f9; cursor: pointer;">
      {{ cat_name }}
    </button>
  {% endfor %}
</div>

<!-- Posts Container -->
<div id="posts-container">
  {% for cat in categories %}
    {% assign cat_name = cat[0] %}
    {% assign posts_in_cat = cat[1] | sort: "title" %} <!-- 按标题排序 -->

    <div class="category-section" data-category="{{ cat_name | slugify }}" style="display: none;">
      <h2 class="category-title">{{ cat_name }}</h2>
      <ul class="post-list">
        {% for post in posts_in_cat %}
          <li class="post-item">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            {% if post.excerpt %}<p>{{ post.excerpt }}</p>{% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}
</div>

<!-- JavaScript -->
<script>
  const categoryButtons = document.querySelectorAll('.category-button');
  const categorySections = document.querySelectorAll('.category-section');

  // Category button click functionality
  categoryButtons.forEach(button => {
    button.addEventListener('click', function () {
      const selectedCategory = this.getAttribute('data-category');

      // Hide all categories
      categorySections.forEach(section => {
        section.style.display = 'none';
      });

      // Show only the selected category
      const targetSection = document.querySelector(`.category-section[data-category="${selectedCategory}"]`);
      if (targetSection) {
        targetSection.style.display = 'block';
      }
    });
  });
</script>

<!-- CSS -->
<style>
  #search-bar {
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  .category-button {
    font-size: 16px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #f9f9f9;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .category-button:hover {
    background-color: #e6e6e6;
  }

  .category-section {
    margin-bottom: 30px;
  }

  .category-title {
    font-size: 24px;
    color: #333;
    margin-bottom: 10px;
  }

  .post-list {
    list-style-type: none;
    padding-left: 0;
  }

  .post-item {
    margin-bottom: 10px;
  }

  .post-item a {
    font-size: 18px;
    color: #007acc;
    text-decoration: none;
  }

  .post-item p {
    font-size: 14px;
    color: #444;
    margin-top: 5px;
  }
</style>
